<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>DraftMyForms - Professional Documents Buihlt in Seconds</title>
<meta name="description" content="AI-powered document generation. Create invoices, contracts, resumes, legal forms and more. 50,000+ professional templates. Create, edit, and download as PDF in seconds.">
<meta name="keywords" content="free invoice template, contract template, resume builder, legal forms, document generator, AI documents, professional templates">
<meta property="og:title" content="DraftMyForms - AI Documents & Resumes">
<meta property="og:description" content="Professional documents built in seconds with AI. 50,0h00+ templates.">
<meta property="og:type" content="website">
<meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">
<meta property="og:url" content="https://draftmyforms.com/">
<meta property="og:site_name" content="DraftMyForms">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="DraftMyForms - AI Document Generator">
<meta name="twitter:description" content="Generate professional documents instantly. 50,000+ templates.">
<meta name="author" content="WMK SPECIALITY SERVICES LLC">
<link rel="canonical" href="https://draftmyforms.com/">
<meta name="google-site-verification" content="KBCx2c_AOReOCw3cP2vDBCpMBlomwWaxvXUSpqQg8DM" />
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%23c99532'/%3E%3Cstop offset='100%25' stop-color='%23e8b94a'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ctext x='16' y='24' text-anchor='middle' font-size='24' fill='url(%23g)'%3E%E2%9C%A6%3C/text%3E%3C/svg%3E">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;0,800;1,400;1,600&family=DM+Sans:wght@300;400;500;600;700&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--gold:#c99532;--gold-light:#e8b94a;--gold-dark:#a67a28;--gold-bg:#fef8ee;
--paper:#faf7f5;--white:#ffffff;
--text:#1a1a1a;--text-secondary:#555;--text-muted:#888;
--border:#e5e0db;--border-light:#f0ebe6;
--success:#3a6633;--danger:#c24b3b;
--font-heading:'Playfair Display',Georgia,serif;
--font-body:'DM Sans',-apple-system,BlinkMacSystemFont,sans-serif;
--font-mono:'DM Mono',monospace;
--max-w:1200px;
}
html{scroll-behavior:smooth}
body{font-family:var(--font-body);color:var(--text);background:var(--white);-webkit-font-smoothing:antialiased}
a{text-decoration:none;color:inherit}
img{max-width:100%}
.navbar{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(255,255,255,.95);backdrop-filter:blur(12px);border-bottom:1px solid var(--border-light);padding:0 32px;height:64px;display:flex;align-items:center;justify-content:space-between}
.nav-brand{display:flex;align-items:center;gap:10px;font-family:var(--font-heading);font-weight:700;font-size:20px;color:var(--text)}
.nav-brand .star{color:var(--gold);font-size:22px}
.nav-links{display:flex;align-items:center;gap:32px}
.nav-links a{font-size:14px;font-weight:500;color:var(--text-secondary);transition:color .2s;cursor:pointer}
.nav-links a:hover{color:var(--gold)}
.nav-actions{display:flex;align-items:center;gap:12px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 22px;border-radius:8px;font-family:var(--font-body);font-size:14px;font-weight:600;border:none;cursor:pointer;transition:all .2s}
.btn-primary{background:var(--text);color:var(--white)}.btn-primary:hover{background:#333}
.btn-outline{background:transparent;border:1px solid var(--border);color:var(--text)}.btn-outline:hover{border-color:var(--gold);color:var(--gold)}
.btn-gold{background:var(--gold);color:var(--white)}.btn-gold:hover{background:var(--gold-dark)}
.btn-ghost{background:transparent;color:var(--text-secondary);padding:8px 12px}.btn-ghost:hover{color:var(--gold)}
.btn-sm{padding:8px 16px;font-size:13px}
.btn-lg{padding:14px 32px;font-size:16px}
.hero{padding:140px 32px 80px;text-align:center;background:var(--white)}
.hero-badge{display:inline-flex;align-items:center;gap:6px;padding:6px 16px;border-radius:20px;background:var(--gold-bg);border:1px solid #f0ddb8;font-size:12px;font-weight:600;color:var(--gold-dark);margin-bottom:28px}
.hero-badge .dot{width:6px;height:6px;border-radius:50%;background:var(--gold);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
.hero h1{font-family:var(--font-heading);font-size:clamp(40px,6vw,72px);font-weight:800;line-height:1.05;margin-bottom:24px;color:var(--text);letter-spacing:-1px}
.hero h1 em{font-style:italic;color:var(--gold);font-weight:600}
.hero p{font-size:18px;color:var(--text-secondary);max-width:560px;margin:0 auto 36px;line-height:1.6}
.hero-ctas{display:flex;align-items:center;justify-content:center;gap:14px;margin-bottom:40px}
.hero-stats{display:flex;align-items:center;justify-content:center;gap:32px;flex-wrap:wrap}
.hero-stat{display:flex;align-items:center;gap:6px;font-size:13px;color:var(--text-muted)}
.hero-stat i{color:var(--gold);font-size:11px}
.demo-section{padding:0 32px 80px;max-width:var(--max-w);margin:0 auto}
.demo-tabs{display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:24px}
.demo-tab{padding:8px 18px;border-radius:20px;border:1px solid var(--border);background:var(--white);font-size:13px;font-weight:500;cursor:pointer;transition:all .2s;color:var(--text-secondary)}
.demo-tab.active,.demo-tab:hover{background:var(--gold-bg);border-color:var(--gold);color:var(--gold-dark)}
.demo-browser{background:var(--white);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 20px 60px rgba(0,0,0,.08)}
.demo-browser-bar{padding:12px 16px;background:#fafafa;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px}
.demo-dots{display:flex;gap:6px}
.demo-dot{width:10px;height:10px;border-radius:50%}
.demo-dot:nth-child(1){background:#ff5f57}.demo-dot:nth-child(2){background:#febc2e}.demo-dot:nth-child(3){background:#28c840}
.demo-url{flex:1;background:var(--white);border:1px solid var(--border);border-radius:6px;padding:6px 12px;font-size:12px;color:var(--text-muted);margin:0 8px;font-family:var(--font-mono)}
.demo-content{display:flex;height:500px}
.demo-sidebar{width:240px;border-right:1px solid var(--border);padding:16px;overflow-y:auto;background:#fafafa}
.demo-sidebar-item{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-radius:8px;cursor:pointer;font-size:13px;margin-bottom:2px;transition:all .15s}
.demo-sidebar-item:hover{background:var(--gold-bg)}
.demo-sidebar-item.active{background:var(--gold-bg);color:var(--gold-dark);font-weight:600}
.demo-sidebar-badge{font-size:10px;padding:2px 6px;border-radius:4px;font-weight:600}
.badge-free{background:#e8f5e2;color:var(--success)}
.badge-pro{background:#fef3d8;color:var(--gold-dark)}
.demo-doc-preview{flex:1;padding:32px;overflow:auto;display:flex;justify-content:center;background:var(--paper)}
.demo-doc{background:var(--white);box-shadow:0 1px 8px rgba(0,0,0,.06);border-radius:4px;padding:40px;width:100%;max-width:600px;font-size:12px;line-height:1.6}.features{padding:100px 32px;background:var(--white)}
.section-label{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:2px;color:var(--gold);margin-bottom:16px}
.section-title{font-family:var(--font-heading);font-size:clamp(28px,4vw,44px);font-weight:700;line-height:1.15;margin-bottom:16px}
.section-subtitle{font-size:16px;color:var(--text-secondary);max-width:500px;line-height:1.6}
.features-header{text-align:center;max-width:600px;margin:0 auto 60px}
.features-header .section-subtitle{margin:0 auto}
.features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;max-width:var(--max-w);margin:0 auto}
.feature-card{padding:32px;border-radius:16px;border:1px solid var(--border-light);background:var(--white);transition:all .3s}
.feature-card:hover{border-color:var(--gold);box-shadow:0 8px 30px rgba(201,149,50,.1);transform:translateY(-4px)}
.feature-icon{width:48px;height:48px;border-radius:12px;background:var(--gold-bg);display:flex;align-items:center;justify-content:center;font-size:20px;margin-bottom:16px}
.feature-card h3{font-size:17px;font-weight:600;margin-bottom:8px}
.feature-card p{font-size:14px;color:var(--text-secondary);line-height:1.6}
.comparison{padding:100px 32px;background:var(--paper)}
.comparison-header{text-align:center;margin-bottom:48px}
.comparison-table{max-width:800px;margin:0 auto;border-radius:16px;overflow:hidden;border:1px solid var(--border);background:var(--white)}
.comp-row{display:grid;grid-template-columns:1fr 1fr 1fr;border-bottom:1px solid var(--border-light)}
.comp-row:last-child{border-bottom:none}
.comp-row.header{background:var(--paper);font-weight:600;font-size:14px}
.comp-cell{padding:16px 24px;font-size:14px;display:flex;align-items:center}
.comp-cell.feature{color:var(--text)}
.comp-cell.check{justify-content:center}
.comp-cell .fa-check{color:var(--success)}
.comp-cell .fa-times{color:#ccc}
.comp-header-cell{text-align:center;padding:20px;display:flex;flex-direction:column;align-items:center;gap:4px}
.comp-header-cell.highlight{background:var(--gold);color:var(--white);border-radius:12px 12px 0 0;margin:-1px;padding:24px 20px}
.comp-header-cell .comp-brand{font-size:14px;font-weight:600}
.comp-price{font-size:12px;color:var(--text-muted)}
.pricing{padding:100px 32px;background:var(--white)}
.pricing-header{text-align:center;margin-bottom:60px}
.pricing-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;max-width:var(--max-w);margin:0 auto}
.price-card{border:1px solid var(--border);border-radius:16px;padding:36px;position:relative;transition:all .3s;background:var(--white)}
.price-card:hover{border-color:var(--gold);box-shadow:0 8px 30px rgba(201,149,50,.1)}
.price-card.featured{border-color:var(--gold);box-shadow:0 8px 40px rgba(201,149,50,.15)}
.price-card.featured::before{content:'Most Popular';position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--gold);color:var(--white);padding:4px 16px;border-radius:12px;font-size:11px;font-weight:600}
.price-tier{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);margin-bottom:8px}
.price-amount{font-family:var(--font-heading);font-size:44px;font-weight:700;margin-bottom:4px}
.price-period{font-size:13px;color:var(--text-muted);margin-bottom:20px}
.price-desc{font-size:14px;color:var(--text-secondary);margin-bottom:24px;line-height:1.5}
.price-features{list-style:none;margin-bottom:28px}
.price-features li{display:flex;align-items:flex-start;gap:10px;padding:6px 0;font-size:13px;color:var(--text-secondary)}
.price-features li i{color:var(--gold);margin-top:2px;font-size:12px}
.price-btn{width:100%;justify-content:center}
.footer{padding:60px 32px 24px;background:var(--paper);border-top:1px solid var(--border)}
.footer-grid{display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:48px;max-width:var(--max-w);margin:0 auto 48px}
.footer-brand{font-family:var(--font-heading);font-size:18px;font-weight:700;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.footer-brand .star{color:var(--gold)}
.footer-desc{font-size:13px;color:var(--text-secondary);line-height:1.6;max-width:280px}
.footer-col h4{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:1.5px;color:var(--text-muted);margin-bottom:16px}
.footer-col a{display:block;font-size:14px;color:var(--text-secondary);padding:4px 0;transition:color .2s}
.footer-col a:hover{color:var(--gold)}
.footer-bottom{text-align:center;padding-top:24px;border-top:1px solid var(--border);font-size:12px;color:var(--text-muted);max-width:var(--max-w);margin:0 auto}
.cta-section{padding:80px 32px;background:var(--gold-bg);text-align:center}
.cta-section h2{font-family:var(--font-heading);font-size:clamp(28px,4vw,40px);margin-bottom:16px}
.cta-section p{font-size:16px;color:var(--text-secondary);margin-bottom:28px;max-width:500px;margin-left:auto;margin-right:auto}
/* AUTH MODAL */
.auth-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:2000;align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.auth-overlay.active{display:flex}
.auth-modal{background:var(--white);border-radius:16px;padding:40px;width:90%;max-width:420px;box-shadow:0 20px 60px rgba(0,0,0,.2);position:relative;animation:modalIn .3s ease}
@keyframes modalIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.auth-modal-close{position:absolute;top:16px;right:16px;background:none;border:none;font-size:20px;cursor:pointer;color:var(--text-muted);padding:4px 8px;border-radius:4px}
.auth-modal-close:hover{color:var(--text);background:var(--paper)}
.auth-modal h2{font-family:var(--font-heading);font-size:24px;font-weight:700;margin-bottom:8px;text-align:center}
.auth-modal .auth-subtitle{font-size:14px;color:var(--text-secondary);text-align:center;margin-bottom:24px}
.auth-form{display:flex;flex-direction:column;gap:16px}
.auth-field{display:flex;flex-direction:column;gap:6px}
.auth-field label{font-size:13px;font-weight:600;color:var(--text)}
.auth-field input{padding:12px 16px;border:1px solid var(--border);border-radius:8px;font-size:14px;font-family:var(--font-body);transition:border-color .2s;outline:none}
.auth-field input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,149,50,.15)}
.auth-submit{padding:14px;border:none;border-radius:8px;font-size:15px;font-weight:600;cursor:pointer;font-family:var(--font-body);transition:all .2s}
.auth-submit.primary{background:var(--gold);color:var(--white)}
.auth-submit.primary:hover{background:var(--gold-dark)}
.auth-submit:disabled{opacity:.6;cursor:not-allowed}
.auth-toggle{text-align:center;font-size:13px;color:var(--text-secondary);margin-top:16px}
.auth-toggle a{color:var(--gold);font-weight:600;cursor:pointer}
.auth-toggle a:hover{text-decoration:underline}
.auth-error{background:#fef2f2;border:1px solid #fecaca;color:var(--danger);padding:10px 14px;border-radius:8px;font-size:13px;display:none}
.auth-error.show{display:block}
.auth-success{background:#f0fdf4;border:1px solid #bbf7d0;color:var(--success);padding:10px 14px;border-radius:8px;font-size:13px;display:none}
.auth-success.show{display:block}
.upgrade-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:2000;align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.upgrade-overlay.active{display:flex}
.upgrade-modal{background:var(--white);border-radius:16px;padding:40px;width:90%;max-width:500px;box-shadow:0 20px 60px rgba(0,0,0,.2);position:relative;animation:modalIn .3s ease;text-align:center}
.upgrade-modal h2{font-family:var(--font-heading);font-size:22px;font-weight:700;margin-bottom:12px}
.upgrade-modal p{font-size:14px;color:var(--text-secondary);margin-bottom:24px;line-height:1.6}
.upgrade-plans{display:flex;gap:16px;margin-bottom:20px}
.upgrade-plan-card{flex:1;border:1px solid var(--border);border-radius:12px;padding:20px;cursor:pointer;transition:all .2s}
.upgrade-plan-card:hover,.upgrade-plan-card.selected{border-color:var(--gold);background:var(--gold-bg)}
.upgrade-plan-card h3{font-size:16px;font-weight:700;margin-bottom:4px}
.upgrade-plan-card .plan-price{font-size:24px;font-weight:700;color:var(--gold);margin-bottom:8px}
.upgrade-plan-card .plan-price span{font-size:13px;font-weight:400;color:var(--text-muted)}
.upgrade-plan-card ul{list-style:none;text-align:left;font-size:12px;color:var(--text-secondary)}
.upgrade-plan-card ul li{padding:2px 0}
.upgrade-plan-card ul li::before{content:'‚úì ';color:var(--gold)}
@media(max-width:768px){
.navbar{padding:0 16px}.nav-links{display:none}.hero{padding:100px 20px 60px}.hero-ctas{flex-direction:column}
.demo-content{flex-direction:column;height:auto}.demo-sidebar{width:100%;height:200px;border-right:none;border-bottom:1px solid var(--border)}
.features-grid{grid-template-columns:1fr}.pricing-grid{grid-template-columns:1fr}.comparison .comp-row{font-size:12px}
.comp-cell{padding:10px 12px}.footer-grid{grid-template-columns:1fr 1fr}.mobile-menu-btn{display:block!important}
.upgrade-plans{flex-direction:column}.auth-modal{padding:28px}
}
@media(max-width:480px){.demo-browser{border-radius:8px}.demo-content{height:350px}.footer-grid{grid-template-columns:1fr}}
.mobile-menu-btn{display:none;background:none;border:none;font-size:22px;cursor:pointer;color:var(--text);padding:8px}
.mobile-menu{display:none;position:fixed;top:64px;left:0;right:0;bottom:0;background:var(--white);z-index:999;padding:24px;flex-direction:column;gap:4px}
.mobile-menu.active{display:flex}
.mobile-menu a{padding:14px 0;font-size:16px;font-weight:500;border-bottom:1px solid var(--border-light);color:var(--text);cursor:pointer}
.user-avatar{width:36px;height:36px;border-radius:50%;background:var(--gold);color:var(--white);display:none;align-items:center;justify-content:center;font-weight:700;font-size:14px;cursor:pointer}
.user-avatar.show{display:flex}
.user-menu{position:absolute;top:56px;right:32px;background:var(--white);border:1px solid var(--border);border-radius:12px;padding:8px;min-width:200px;box-shadow:0 8px 30px rgba(0,0,0,.12);display:none;z-index:1001}
.user-menu.show{display:block}
.user-menu a,.user-menu button{display:block;width:100%;text-align:left;padding:10px 14px;font-size:14px;border:none;background:none;cursor:pointer;border-radius:6px;color:var(--text);font-family:var(--font-body)}
.user-menu a:hover,.user-menu button:hover{background:var(--gold-bg);color:var(--gold-dark)}
.user-menu .user-info{padding:10px 14px;border-bottom:1px solid var(--border-light);margin-bottom:4px}
.user-menu .user-info .name{font-weight:600;font-size:14px}
.user-menu .user-info .email{font-size:12px;color:var(--text-muted)}
.user-menu .user-info .plan-badge{display:inline-block;padding:2px 8px;border-radius:4px;font-size:11px;font-weight:600;margin-top:4px}
.plan-free{background:#e8f5e2;color:var(--success)}
.plan-pro{background:#fef3d8;color:var(--gold-dark)}
.plan-business{background:#e0e7ff;color:#3730a3}
</style>
</head>
<body>
<!-- NAVBAR -->
<nav class="navbar">
<a href="/" class="nav-brand"><span class="star">‚ú¶</span> DraftMyForms</a>
<div class="nav-links">
<a onclick="smoothScroll('features')">Features</a>
<a onclick="smoothScroll('demo')">Templates</a>
<a onclick="smoothScroll('pricing')">Pricing</a>
<a onclick="smoothScroll('compare')">Compare</a>
</div>
<div class="nav-actions">
<div class="user-avatar" id="userAvatar" onclick="toggleUserMenu()"></div>
<div class="user-menu" id="userMenu">
<div class="user-info">
<div class="name" id="userDisplayName"></div>
<div class="email" id="userEmail"></div>
<div class="plan-badge plan-free" id="userPlanBadge">Free</div>
</div>
<a href="/editor.html">Open Editor</a>
<button onclick="handleUpgradeClick()" id="menuUpgradeBtn">Upgrade Plan</button>
<button onclick="handleLogout()" style="color:var(--danger)">Sign Out</button>
</div>
<a href="javascript:void(0)" class="btn btn-outline btn-sm" id="navSignIn" onclick="openAuthModal('login')">Sign in</a>
<a href="javascript:void(0)" class="btn btn-primary btn-sm" id="navTryFree" onclick="openAuthModal('signup')">Try Free ‚Üí</a>
</div>
<button class="mobile-menu-btn" onclick="document.querySelector('.mobile-menu').classList.toggle('active')"><i class="fas fa-bars"></i></button>
</nav>
<div class="mobile-menu">
<a onclick="smoothScroll('features');this.parentElement.classList.remove('active')">Features</a>
<a onclick="smoothScroll('demo');this.parentElement.classList.remove('active')">Templates</a>
<a onclick="smoothScroll('pricing');this.parentElement.classList.remove('active')">Pricing</a>
<a onclick="smoothScroll('compare');this.parentElement.classList.remove('active')">Compare</a>
<a href="javascript:void(0)" onclick="openAuthModal('login');this.parentElement.classList.remove('active')">Sign in</a>
<a href="javascript:void(0)" onclick="openAuthModal('signup');this.parentElement.classList.remove('active')" style="color:var(--gold);font-weight:600">Try Free ‚Üí</a>
</div>

<!-- AUTH MODAL -->
<div class="auth-overlay" id="authOverlay" onclick="if(event.target===this)closeAuthModal()">
<div class="auth-modal">
<button class="auth-modal-close" onclick="closeAuthModal()">&times;</button>
<h2 id="authTitle">Sign In</h2>
<p class="auth-subtitle" id="authSubtitle">Welcome back to DraftMyForms</p>
<div class="auth-error" id="authError"></div>
<div class="auth-success" id="authSuccess"></div>
<form class="auth-form" id="authForm" onsubmit="handleAuth(event)">
<div class="auth-field" id="nameField" style="display:none">
<label for="authName">Full Name</label>
<input type="text" id="authName" placeholder="John Doe">
</div>
<div class="auth-field">
<label for="authEmailInput">Email Address</label>
<input type="email" id="authEmailInput" placeholder="you@example.com" required>
</div>
<div class="auth-field">
<label for="authPassword">Password</label>
<input type="password" id="authPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required minlength="6">
</div>
<button type="submit" class="auth-submit primary" id="authSubmitBtn">Sign In</button>
</form>
<div class="auth-toggle" id="authToggle">
Don't have an account? <a onclick="switchAuthMode('signup')">Sign up free</a>
</div>
</div>
</div>

<!-- UPGRADE MODAL -->
<div class="upgrade-overlay" id="upgradeOverlay" onclick="if(event.target===this)closeUpgradeModal()">
<div class="upgrade-modal">
<button class="auth-modal-close" onclick="closeUpgradeModal()">&times;</button>
<h2 id="upgradeTitle">Upgrade Your Plan</h2>
<p id="upgradeDesc">Unlock premium templates, unlimited AI credits, and more.</p>
<div class="upgrade-plans" id="upgradePlans">
<div class="upgrade-plan-card" onclick="selectUpgradePlan('pro')" id="upgradePro">
<h3>Pro</h3>
<div class="plan-price">$9.99<span>/mo</span></div>
<ul><li>50 AI credits/month</li><li>Contracts, NDAs, proposals</li><li>PDF, Word & HTML export</li><li>Custom logo & branding</li><li>E-signature (5/mo)</li></ul>
</div>
<div class="upgrade-plan-card" onclick="selectUpgradePlan('business')" id="upgradeBusiness">
<h3>Business</h3>
<div class="plan-price">$24.99<span>/mo</span></div>
<ul><li>Unlimited AI credits</li><li>ALL templates incl. sensitive</li><li>Unlimited e-signatures</li><li>Team collaboration</li><li>API access</li></ul>
</div>
</div>
<button class="btn btn-gold btn-lg" style="width:100%" onclick="startStripeCheckout()" id="upgradeCheckoutBtn">Start 14-day Free Trial</button>
<p style="font-size:11px;color:var(--text-muted);margin-top:12px">Cancel anytime. No commitment required.</p>
</div>
</div>
<!-- HERO -->
<section class="hero">
<div class="hero-badge"><span class="dot"></span> AI-POWERED DOCUMENT GENERATOR</div>
<h1>Professional<br>documents<br>built in <em>seconds</em></h1>
<p>Create invoices, contracts, proposals, and legal forms with AI. No templates to wrestle with ‚Äî just describe what you need.</p>
<div class="hero-ctas">
<a href="javascript:void(0)" class="btn btn-primary btn-lg" onclick="handleStartFree()">Start for free</a>
<a href="javascript:void(0)" class="btn btn-outline btn-lg" onclick="smoothScroll('demo')">See how it works</a>
</div>
<div class="hero-stats">
<div class="hero-stat"><i class="fas fa-check-circle"></i> No credit card required</div>
<div class="hero-stat"><i class="fas fa-check-circle"></i> 50,000+ templates available</div>
<div class="hero-stat"><i class="fas fa-check-circle"></i> AI fills in details for you</div>
<div class="hero-stat"><i class="fas fa-check-circle"></i> Trusted by 25+ countries</div>
</div>
</section>

<!-- DEMO -->
<section class="demo-section" id="demo">
<div class="demo-tabs">
<span style="font-size:13px;color:var(--text-muted);margin-right:8px">Explore by:</span>
<button class="demo-tab active">All</button><button class="demo-tab">Invoices</button><button class="demo-tab">Contracts</button><button class="demo-tab">Resumes</button>
</div>
<div class="demo-browser">
<div class="demo-browser-bar">
<div class="demo-dots"><div class="demo-dot"></div><div class="demo-dot"></div><div class="demo-dot"></div></div>
<div class="demo-url">draftmyforms.com/editor</div>
<div style="display:flex;gap:6px"><button class="btn btn-gold btn-sm" onclick="handleStartFree()">‚ú¶ Open Editor</button></div>
</div>
<div class="demo-content">
<div class="demo-sidebar">
<div style="font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);padding:4px 12px;margin-bottom:8px">Documents</div>
<div class="demo-sidebar-item active" onclick="showDemo(0)"><span>Invoice</span><span class="demo-sidebar-badge badge-free">Free</span></div>
<div class="demo-sidebar-item" onclick="showDemo(1)"><span>Service Proposal</span><span class="demo-sidebar-badge badge-free">Free</span></div>
<div class="demo-sidebar-item" onclick="showDemo(2)"><span>Client Contract</span><span class="demo-sidebar-badge badge-pro">Pro</span></div>
<div class="demo-sidebar-item" onclick="showDemo(3)"><span>Cover Letter</span><span class="demo-sidebar-badge badge-free">Free</span></div>
<div class="demo-sidebar-item" onclick="showDemo(4)"><span>Professional Resume</span><span class="demo-sidebar-badge badge-free">Free</span></div>
<div class="demo-sidebar-item" onclick="showDemo(5)"><span>NDA Agreement</span><span class="demo-sidebar-badge badge-pro">Pro</span></div>
<div style="font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted);padding:16px 12px 4px;margin-bottom:8px;border-top:1px solid var(--border-light)">Reports</div>
<div class="demo-sidebar-item" onclick="showDemo(6)"><span>Expense Report</span><span class="demo-sidebar-badge badge-free">Free</span></div>
<div class="demo-sidebar-item" onclick="showDemo(7)"><span>Purchase Order</span><span class="demo-sidebar-badge badge-free">Free</span></div>
<div class="demo-sidebar-item" onclick="showDemo(8)"><span>Budget Report</span><span class="demo-sidebar-badge badge-pro">Pro</span></div>
</div>
<div class="demo-doc-preview">
<div class="demo-doc">
<div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px">
<div><div style="font-family:var(--font-heading);font-size:10px;font-weight:700;color:var(--gold);letter-spacing:2px;text-transform:uppercase;margin-bottom:4px">Apex Creative Studio</div><div style="font-size:9px;color:var(--text-muted)">42 Oak Drive, Suite 204<br>San Francisco, CA 94102</div></div>
<div style="text-align:right"><div style="font-family:var(--font-heading);font-size:9px;color:var(--text-muted)">Invoice #INV-2024-009</div><div style="font-size:9px;color:var(--text-muted)">November 18, 2024</div><div style="font-size:9px;color:var(--text-muted)">Due: December 18, 2024</div></div>
</div>
<div style="font-family:var(--font-heading);font-size:22px;font-weight:700;color:var(--text);margin-bottom:4px">INVOICE</div>
<div style="font-size:9px;color:var(--text-muted);margin-bottom:16px">INV-2024-009</div>
<hr style="border:none;border-top:2px solid var(--gold);margin-bottom:16px">
<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:20px;font-size:10px">
<div><div style="font-weight:600;margin-bottom:2px">Bill To:</div><div style="color:var(--text-secondary)">TechVentures Inc<br>Rachel Morgan / VP Design<br>Austin, TX 78701</div></div>
<div><div style="font-weight:600;margin-bottom:2px">From:</div><div style="color:var(--text-secondary)">Apex Creative Studio<br>Project: Brand Identity & Website<br>Status: Delivered</div></div>
</div>
<table style="width:100%;border-collapse:collapse;font-size:10px;margin-bottom:16px">
<thead><tr style="background:var(--gold);color:white"><th style="padding:6px 10px;text-align:left;font-size:10px">Description</th><th style="padding:6px 10px;text-align:center;font-size:10px">Qty</th><th style="padding:6px 10px;text-align:right;font-size:10px">Rate</th><th style="padding:6px 10px;text-align:right;font-size:10px">Amount</th></tr></thead>
<tbody>
<tr><td style="padding:6px 10px;border-bottom:1px solid var(--border-light)">Brand Identity Design</td><td style="padding:6px 10px;text-align:center;border-bottom:1px solid var(--border-light)">1</td><td style="padding:6px 10px;text-align:right;border-bottom:1px solid var(--border-light)">$3,500.00</td><td style="padding:6px 10px;text-align:right;border-bottom:1px solid var(--border-light)">$3,500.00</td></tr>
<tr><td style="padding:6px 10px;border-bottom:1px solid var(--border-light)">Website Design (5 pages)</td><td style="padding:6px 10px;text-align:center;border-bottom:1px solid var(--border-light)">1</td><td style="padding:6px 10px;text-align:right;border-bottom:1px solid var(--border-light)">$4,200.00</td><td style="padding:6px 10px;text-align:right;border-bottom:1px solid var(--border-light)">$4,200.00</td></tr>
<tr><td style="padding:6px 10px;border-bottom:1px solid var(--border-light)">Development + Frontend</td><td style="padding:6px 10px;text-align:center;border-bottom:1px solid var(--border-light)">40 hrs</td><td style="padding:6px 10px;text-align:right;border-bottom:1px solid var(--border-light)">$85/hr</td><td style="padding:6px 10px;text-align:right;border-bottom:1px solid var(--border-light)">$3,400.00</td></tr>
<tr><td style="padding:6px 10px">CMS Integration & Training</td><td style="padding:6px 10px;text-align:center">1</td><td style="padding:6px 10px;text-align:right">$800.00</td><td style="padding:6px 10px;text-align:right">$800.00</td></tr>
</tbody></table>
<div style="text-align:right;font-size:10px;color:var(--text-secondary)">
<div>Subtotal: $11,900.00</div><div>Discount: -$595.00</div><div>Tax (8%): $904.40</div>
<div style="font-size:13px;font-weight:700;color:var(--text);margin-top:4px;padding-top:4px;border-top:1px solid var(--border)">Total Due: $12,209.40</div>
</div></div></div></div></div></section>
<!-- FEATURES -->
<section class="features" id="features">
<div class="features-header">
<div class="section-label">Why DraftMyForms</div>
<div class="section-title">Everything DraftMyForms<br>does, then some.</div>
<div class="section-subtitle">A complete document platform that creates, edits, and manages all your professional documents in one place.</div>
</div>
<div class="features-grid">
<div class="feature-card"><div class="feature-icon">üìÑ</div><h3>AI Document Generation</h3><p>Describe your document in plain English. Our AI drafts it instantly ‚Äî contracts, letters, forms, legal language and all.</p></div>
<div class="feature-card"><div class="feature-icon">üë•</div><h3>Real-time Collaboration</h3><p>Work on documents with your team simultaneously. Live presence indicators, comments, and version history.</p></div>
<div class="feature-card"><div class="feature-icon">‚úçÔ∏è</div><h3>E-Signature Built-in</h3><p>Send for signature directly from DraftMyForms. Legally binding signatures with audit trail.</p></div>
<div class="feature-card"><div class="feature-icon">üîÑ</div><h3>Smart Auto-Fill</h3><p>Connect your CRM, tables, or Google Sheets. DraftMyForms pulls client data and auto-populates your documents.</p></div>
<div class="feature-card"><div class="feature-icon">üìä</div><h3>Document Analytics</h3><p>See who viewed your invoices and proposals. Get notified the moment your document is viewed or signed.</p></div>
<div class="feature-card"><div class="feature-icon">üîó</div><h3>50+ Integrations</h3><p>Works with Salesforce, Stripe, HubSpot, Zapier, and more. DraftMyForms fits into your existing workflow.</p></div>
</div>
</section>

<!-- COMPARISON -->
<section class="comparison" id="compare">
<div class="comparison-header">
<div class="section-label">Head to Head</div>
<div class="section-title">Cheaper than others.<br>More powerful.</div>
</div>
<div class="comparison-table">
<div class="comp-row header">
<div class="comp-cell feature" style="font-weight:700">Feature</div>
<div class="comp-header-cell"><div class="comp-brand">Others</div><div class="comp-price">~$15-30/mo</div></div>
<div class="comp-header-cell highlight"><div class="comp-brand">‚ú¶ DraftMyForms</div><div class="comp-price" style="color:rgba(255,255,255,.8)">From $0/mo</div></div>
</div>
<div class="comp-row"><div class="comp-cell feature">AI document generation</div><div class="comp-cell check"><i class="fas fa-times"></i></div><div class="comp-cell check" style="background:var(--gold-bg)"><i class="fas fa-check" style="color:var(--gold)"></i></div></div>
<div class="comp-row"><div class="comp-cell feature">E-signature (built-in)</div><div class="comp-cell check"><i class="fas fa-check" style="color:var(--success)"></i></div><div class="comp-cell check" style="background:var(--gold-bg)"><i class="fas fa-check" style="color:var(--gold)"></i></div></div>
<div class="comp-row"><div class="comp-cell feature">Real-time collaboration</div><div class="comp-cell check"><i class="fas fa-times"></i></div><div class="comp-cell check" style="background:var(--gold-bg)"><i class="fas fa-check" style="color:var(--gold)"></i></div></div>
<div class="comp-row"><div class="comp-cell feature">Document open tracking</div><div class="comp-cell check"><i class="fas fa-times"></i></div><div class="comp-cell check" style="background:var(--gold-bg)"><i class="fas fa-check" style="color:var(--gold)"></i></div></div>
<div class="comp-row"><div class="comp-cell feature">CRM / direct auto-fill</div><div class="comp-cell check"><i class="fas fa-times"></i></div><div class="comp-cell check" style="background:var(--gold-bg)"><i class="fas fa-check" style="color:var(--gold)"></i></div></div>
<div class="comp-row"><div class="comp-cell feature">Free templates</div><div class="comp-cell check"><i class="fas fa-times"></i></div><div class="comp-cell check" style="background:var(--gold-bg)"><i class="fas fa-check" style="color:var(--gold)"></i></div></div>
<div class="comp-row"><div class="comp-cell feature">Custom branding</div><div class="comp-cell check" style="font-size:12px;color:var(--text-muted)">Business plan only</div><div class="comp-cell check" style="background:var(--gold-bg);font-size:12px;color:var(--gold-dark)">‚ú¶ Pro+</div></div>
<div class="comp-row"><div class="comp-cell feature">Download formats</div><div class="comp-cell check" style="font-size:12px;color:var(--text-muted)">PDF only</div><div class="comp-cell check" style="background:var(--gold-bg);font-size:12px;color:var(--gold-dark)">PDF, Word, HTML</div></div>
</div>
</section>

<!-- PRICING -->
<section class="pricing" id="pricing">
<div class="pricing-header">
<div class="section-label">Simple Pricing</div>
<div class="section-title">Start free. Upgrade when ready.</div>
<p style="font-size:15px;color:var(--text-secondary);margin-top:12px">All plans include a 14-day free trial. No credit card required. Cancel any time.</p>
</div>
<div class="pricing-grid">
<div class="price-card">
<div class="price-tier">Free</div><div class="price-amount">$0</div><div class="price-period">Forever free</div>
<div class="price-desc">Perfect for individuals who need occasional documents.</div>
<ul class="price-features">
<li><i class="fas fa-check"></i> 5 AI credits per month</li><li><i class="fas fa-check"></i> Basic document types</li><li><i class="fas fa-check"></i> Invoices & receipts</li><li><i class="fas fa-check"></i> Letters & resumes</li><li><i class="fas fa-check"></i> PDF download</li><li><i class="fas fa-check"></i> 1 free template/month</li><li><i class="fas fa-check"></i> Manual editor tools</li>
</ul>
<a href="javascript:void(0)" class="btn btn-outline btn-lg price-btn" onclick="handleStartFree()">Get started free</a>
</div>
<div class="price-card featured">
<div class="price-tier">Pro</div><div class="price-amount">$9.99</div><div class="price-period">/month ¬∑ billed monthly</div>
<div class="price-desc">For freelancers, small businesses, and professionals.</div>
<ul class="price-features">
<li><i class="fas fa-check"></i> 50 AI credits per month</li><li><i class="fas fa-check"></i> Unlimited document types</li><li><i class="fas fa-check"></i> Contracts, NDAs, proposals</li><li><i class="fas fa-check"></i> E-signature (5 sends/mo)</li><li><i class="fas fa-check"></i> PDF, Word & HTML export</li><li><i class="fas fa-check"></i> Custom logo & branding</li><li><i class="fas fa-check"></i> Document open tracking</li><li><i class="fas fa-check"></i> Priority support</li>
</ul>
<a href="javascript:void(0)" class="btn btn-gold btn-lg price-btn" onclick="handlePricingClick('pro')">Start 14-day free trial</a>
</div>
<div class="price-card">
<div class="price-tier">Business</div><div class="price-amount">$24.99</div><div class="price-period">/month ¬∑ billed monthly</div>
<div class="price-desc">For teams and growing businesses that need scale.</div>
<ul class="price-features">
<li><i class="fas fa-check"></i> Unlimited AI credits</li><li><i class="fas fa-check"></i> Everything in Pro</li><li><i class="fas fa-check"></i> Unlimited e-signatures</li><li><i class="fas fa-check"></i> Team collaboration</li><li><i class="fas fa-check"></i> CRM & Sheets auto-fill</li><li><i class="fas fa-check"></i> 50+ integrations</li><li><i class="fas fa-check"></i> API access</li><li><i class="fas fa-check"></i> Dedicated account manager</li>
</ul>
<a href="javascript:void(0)" class="btn btn-outline btn-lg price-btn" onclick="handlePricingClick('business')">Start 14-day free trial</a>
</div>
</div>
</section>

<!-- CTA -->
<section class="cta-section">
<h2>Ready to create professional<br>documents in seconds?</h2>
<p>Join thousands of professionals who trust DraftMyForms for their document needs.</p>
<a href="javascript:void(0)" class="btn btn-primary btn-lg" onclick="handleStartFree()">Start for free ‚Üí</a>
</section>

<!-- FOOTER -->
<footer class="footer">
<div class="footer-grid">
<div>
<div class="footer-brand"><span class="star">‚ú¶</span> DraftMyForms</div>
<p class="footer-desc">Create beautiful documents instantly and free. AI-powered, legally sound, and built for modern businesses.</p>
<p style="font-size:11px;color:var(--text-muted);margin-top:12px">A product of <strong>WMK SPECIALITY SERVICES LLC</strong></p>
</div>
<div class="footer-col"><h4>Product</h4>
<a href="javascript:void(0)" onclick="handleStartFree()">Templates</a><a href="javascript:void(0)" onclick="handleStartFree()">AI Generator</a><a href="javascript:void(0)" onclick="smoothScroll('pricing')">Pricing</a><a href="javascript:void(0)" onclick="handleStartFree()">Integrations</a>
</div>
<div class="footer-col"><h4>Documents</h4>
<a href="javascript:void(0)" onclick="handleStartFree()">Invoices</a><a href="javascript:void(0)" onclick="handleStartFree()">Contracts</a><a href="javascript:void(0)" onclick="handleStartFree()">Legal Forms</a><a href="javascript:void(0)" onclick="handleStartFree()">Proposals</a><a href="javascript:void(0)" onclick="handleStartFree()">HR Templates</a>
</div>
<div class="footer-col"><h4>Company</h4><a href="#">About</a><a href="#">Blog</a><a href="#">Privacy</a><a href="#">Terms</a><a href="#">Contact</a></div>
</div>
<div class="footer-bottom"><p>&copy; 2026 DraftMyForms. All rights reserved. Made with ‚ú¶ by <strong>WMK SPECIALITY SERVICES LLC</strong></p></div>
</footer>
<div style="text-align:center;padding:8px;background:var(--text);color:var(--text-muted);font-size:11px">WMK SPECIALITY SERVICES LLC</div>
<script>
var SUPABASE_URL = 'https://mupeqeuuwdmkndvtbhzb.supabase.co';
var SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im11cGVxZXV1d2Rta25kdnRiaHpiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNzkwNDMsImV4cCI6MjA4Njk1NTA0M30.aEixeQPtdXIxWUmCVXYba0G6x5Zs-2XRwt0gaA30ORk';
var sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
var currentUser = null;
var currentProfile = null;
var selectedPlan = 'pro';
var pendingPlan = null;
var authMode = 'login';

async function checkSession() {
  try {
    var r = await sb.auth.getSession();
    if (r.data.session && r.data.session.user) {
      currentUser = r.data.session.user;
      await loadProfile();
      updateUIForLoggedIn();
    } else { updateUIForLoggedOut(); }
  } catch(e) { console.error('Session error:', e); }
}

async function loadProfile() {
  if (!currentUser) return;
  var r = await sb.from('profiles').select('*').eq('id', currentUser.id).single();
  if (r.data) currentProfile = r.data;
}

function updateUIForLoggedIn() {
  document.getElementById('navSignIn').style.display = 'none';
  document.getElementById('navTryFree').style.display = 'none';
  var avatar = document.getElementById('userAvatar');
  avatar.classList.add('show');
  var nm = (currentProfile && currentProfile.display_name) || (currentUser && currentUser.email) || 'User';
  avatar.textContent = (nm || 'U').charAt(0).toUpperCase();
  document.getElementById('userDisplayName').textContent = (currentProfile && currentProfile.display_name) || 'User';
  document.getElementById('userEmail').textContent = currentUser.email;
  var badge = document.getElementById('userPlanBadge');
  var plan = (currentProfile && currentProfile.plan) || 'free';
  badge.textContent = plan.charAt(0).toUpperCase() + plan.slice(1);
  badge.className = 'plan-badge plan-' + plan;
  var upBtn = document.getElementById('menuUpgradeBtn');
  if (plan === 'business') upBtn.style.display = 'none';
  else upBtn.style.display = '';
}

function updateUIForLoggedOut() {
  document.getElementById('navSignIn').style.display = '';
  document.getElementById('navTryFree').style.display = '';
  document.getElementById('userAvatar').classList.remove('show');
  document.getElementById('userMenu').classList.remove('show');
}

function toggleUserMenu() { document.getElementById('userMenu').classList.toggle('show'); }
document.addEventListener('click', function(e) {
  var menu = document.getElementById('userMenu');
  var avatar = document.getElementById('userAvatar');
  if (!menu.contains(e.target) && e.target !== avatar) menu.classList.remove('show');
});

function openAuthModal(mode) {
  authMode = mode || 'login';
  document.getElementById('authOverlay').classList.add('active');
  document.getElementById('authError').classList.remove('show');
  document.getElementById('authSuccess').classList.remove('show');
  document.getElementById('authEmailInput').value = '';
  document.getElementById('authPassword').value = '';
  document.getElementById('authName').value = '';
  if (authMode === 'signup') {
    document.getElementById('authTitle').textContent = 'Create Account';
    document.getElementById('authSubtitle').textContent = 'Start creating documents for free';
    document.getElementById('nameField').style.display = 'flex';
    document.getElementById('authSubmitBtn').textContent = 'Create Account';
    document.getElementById('authToggle').innerHTML = "Already have an account? <a onclick=\"switchAuthMode('login')\">Sign in</a>";
  } else {
    document.getElementById('authTitle').textContent = 'Sign In';
    document.getElementById('authSubtitle').textContent = 'Welcome back to DraftMyForms';
    document.getElementById('nameField').style.display = 'none';
    document.getElementById('authSubmitBtn').textContent = 'Sign In';
    document.getElementById('authToggle').innerHTML = "Don't have an account? <a onclick=\"switchAuthMode('signup')\">Sign up free</a>";
  }
}
function closeAuthModal() { document.getElementById('authOverlay').classList.remove('active'); pendingPlan = null; }
function switchAuthMode(mode) { openAuthModal(mode); }
async function handleAuth(e) {
  e.preventDefault();
  var email = document.getElementById('authEmailInput').value.trim();
  var password = document.getElementById('authPassword').value;
  var errEl = document.getElementById('authError');
  var sucEl = document.getElementById('authSuccess');
  var btn = document.getElementById('authSubmitBtn');
  errEl.classList.remove('show');
  sucEl.classList.remove('show');
  btn.disabled = true;
  btn.textContent = authMode === 'login' ? 'Signing in...' : 'Creating account...';
  try {
    if (authMode === 'signup') {
      var name = document.getElementById('authName').value.trim();
      var r = await sb.auth.signUp({ email: email, password: password, options: { data: { display_name: name || email.split('@')[0] } } });
      if (r.error) throw r.error;
      if (r.data.user) {
        await sb.from('profiles').upsert({ id: r.data.user.id, email: email, display_name: name || email.split('@')[0], role: 'customer', plan: 'free' });
        currentUser = r.data.user;
        await loadProfile();
        updateUIForLoggedIn();
        closeAuthModal();
        if (pendingPlan) { selectedPlan = pendingPlan; pendingPlan = null; openUpgradeModal(selectedPlan); }
        else { window.location.href = '/editor.html'; }
      }
    } else {
      var r = await sb.auth.signInWithPassword({ email: email, password: password });
      if (r.error) throw r.error;
      currentUser = r.data.user;
      await loadProfile();
      updateUIForLoggedIn();
      closeAuthModal();
      if (currentProfile && currentProfile.role === 'admin') { window.location.href = '/admin.html'; }
      else if (pendingPlan) { selectedPlan = pendingPlan; pendingPlan = null; openUpgradeModal(selectedPlan); }
      else { window.location.href = '/editor.html'; }
    }
  } catch(err) {
    errEl.textContent = err.message || 'An error occurred';
    errEl.classList.add('show');
  }
  btn.disabled = false;
  btn.textContent = authMode === 'login' ? 'Sign In' : 'Create Account';
}

async function handleLogout() {
  await sb.auth.signOut();
  currentUser = null; currentProfile = null;
  updateUIForLoggedOut();
  document.getElementById('userMenu').classList.remove('show');
}

function handleStartFree() {
  if (currentUser) { window.location.href = '/editor.html'; }
  else { openAuthModal('signup'); }
}

function handlePricingClick(plan) {
  if (currentUser) {
    var userPlan = (currentProfile && currentProfile.plan) || 'free';
    if (userPlan === plan || (plan === 'pro' && userPlan === 'business')) { window.location.href = '/editor.html'; return; }
    selectedPlan = plan;
    openUpgradeModal(plan);
  } else { pendingPlan = plan; openAuthModal('signup'); }
}

function handleUpgradeClick() {
  document.getElementById('userMenu').classList.remove('show');
  var userPlan = (currentProfile && currentProfile.plan) || 'free';
  if (userPlan === 'free') selectedPlan = 'pro';
  else if (userPlan === 'pro') selectedPlan = 'business';
  else return;
  openUpgradeModal(selectedPlan);
}

function openUpgradeModal(plan) {
  selectedPlan = plan || 'pro';
  document.getElementById('upgradeOverlay').classList.add('active');
  document.getElementById('upgradePro').classList.toggle('selected', selectedPlan === 'pro');
  document.getElementById('upgradeBusiness').classList.toggle('selected', selectedPlan === 'business');
  document.getElementById('upgradeCheckoutBtn').textContent = selectedPlan === 'pro' ? 'Start Pro - $9.99/mo (14-day free trial)' : 'Start Business - $24.99/mo (14-day free trial)';
}
function closeUpgradeModal() { document.getElementById('upgradeOverlay').classList.remove('active'); }
function selectUpgradePlan(plan) {
  selectedPlan = plan;
  document.getElementById('upgradePro').classList.toggle('selected', plan === 'pro');
  document.getElementById('upgradeBusiness').classList.toggle('selected', plan === 'business');
  document.getElementById('upgradeCheckoutBtn').textContent = plan === 'pro' ? 'Start Pro - $9.99/mo (14-day free trial)' : 'Start Business - $24.99/mo (14-day free trial)';
}

async function startStripeCheckout() {
  if (!currentUser) { closeUpgradeModal(); pendingPlan = selectedPlan; openAuthModal('signup'); return; }
  var btn = document.getElementById('upgradeCheckoutBtn');
  btn.disabled = true; btn.textContent = 'Redirecting to checkout...';
  try {
    var resp = await fetch('/api/create-checkout-session', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ plan: selectedPlan, userId: currentUser.id, userEmail: currentUser.email }) });
    var data = await resp.json();
    if (data.url) { window.location.href = data.url; }
    else { throw new Error(data.error || 'Failed to create checkout session'); }
  } catch(err) { alert('Checkout error: ' + err.message); btn.disabled = false; btn.textContent = selectedPlan === 'pro' ? 'Start Pro - $9.99/mo' : 'Start Business - $24.99/mo'; }
}

function smoothScroll(id) {
  if (event) event.preventDefault();
  var el = document.getElementById(id);
  if (el) { var top = el.getBoundingClientRect().top + window.pageYOffset - 80; window.scrollTo({ top: top, behavior: 'smooth' }); }
}

function showDemo(index) {
  document.querySelectorAll('.demo-sidebar-item').forEach(function(i) { i.classList.remove('active'); });
  document.querySelectorAll('.demo-sidebar-item')[index].classList.add('active');
}

window.addEventListener('scroll', function() {
  var navbar = document.querySelector('.navbar');
  navbar.style.boxShadow = window.scrollY > 10 ? '0 1px 10px rgba(0,0,0,.06)' : 'none';
});

var observer = new IntersectionObserver(function(entries) {
  entries.forEach(function(entry) {
    if (entry.isIntersecting) { entry.target.style.opacity = '1'; entry.target.style.transform = 'translateY(0)'; }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.feature-card, .price-card').forEach(function(card) {
  card.style.opacity = '0'; card.style.transform = 'translateY(20px)';
  card.style.transition = 'opacity .6s ease, transform .6s ease';
  observer.observe(card);
});

var urlParams = new URLSearchParams(window.location.search);
if (urlParams.get('payment') === 'success') {
  setTimeout(function() { alert('Payment successful! Your plan has been upgraded.'); window.location.href = '/editor.html'; }, 500);
} else if (urlParams.get('payment') === 'cancelled') {
  setTimeout(function() { alert('Payment was cancelled. You can try again anytime.'); }, 500);
}

checkSession();
</script>
</body>
</html>
